<?xml version="1.0" encoding="utf-8"?>
<!--
################################################################################
# Module:        Stock Input/Output Accounts Module for Odoo 19                   
# Version:       19.0.2.16.0                      
# Last Updated:  2026-01-04                          
# Author:        M
# Company:       Alkia IT Services Co., Ltd.
# Location:      Khet Khlong Toei, Krung Thep Maha Nakhon, TH
# Copyright (c): 2025-Now Alkia IT Services Co., Ltd.
# License:       Proprietary (see LICENSE file)
# Dependencies:  Python 3.12+, Odoo 19+              
# All Rights Reserved.
#
#
# This program is copyright property of the author mentioned above.
# You can`t redistribute it and/or modify it.
#
# You should have received a copy of the License along with this program.
# If not, refer to https://www.alkia.net/license
#################################################################################
-->
<odoo>
    <!-- Two sections: Account Properties (Income, Expense, Price Difference) and Account Stock Properties (Valuation, Input, Output) -->
    <record id="product_category_form_view_inherit_stock_accounts" model="ir.ui.view">
        <field name="name">product.category.form.inherit.ak.stock.input.output</field>
        <field name="model">product.category</field>
        <field name="inherit_id" ref="stock_account.view_category_property_form"/>
        <field name="arch" type="xml">
            <!-- Account Properties: Stock Account only once (= Stock Valuation Account), Stock Variation, Income, Expense, Price Difference. -->
            <xpath expr="//group[.//field[@name='property_stock_valuation_account_id']]" position="replace">
                <group string="Account Properties" name="account_properties" groups="account.group_account_readonly">
                    <field name="property_stock_valuation_account_id" string="Stock Account" options="{'no_create': True}"/>
                    <field name="property_ak_stock_variation_account_id" string="Stock Variation" options="{'no_create': True}"/>
                    <field name="property_account_income_categ_id" options="{'no_create': True}"/>
                    <field name="property_account_expense_categ_id" options="{'no_create': True}"/>
                    <field name="property_ak_stock_price_difference_categ_id"
                           string="Price Difference Account"
                           options="{'no_create': True}"
                           invisible="property_valuation != 'manual_periodic'"/>
                </group>
            </xpath>
            <!-- Account Stock Properties: Input and Output only (no duplicate Stock Account). -->
            <xpath expr="//group[@name='account_properties']" position="after">
                <group string="Account Stock Properties" name="account_stock_properties" groups="account.group_account_readonly">
                    <field name="property_stock_account_input_categ_id"
                           options="{'no_create': True}"
                           required="property_valuation == 'real_time'"
                           placeholder="e.g. Stock Interim (Received) / GRNI"/>
                    <field name="property_stock_account_output_categ_id"
                           options="{'no_create': True}"
                           required="property_valuation == 'real_time'"
                           placeholder="e.g. Stock Interim (Delivered)"/>
                </group>
            </xpath>
        </field>
    </record>
</odoo>
